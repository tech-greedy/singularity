import { decode } from '@ipld/dag-cbor';
import { CID } from 'multiformats'

describe('DealTrackingService', () => {
  fit('should work', async () => {
    const params = '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';
    const decoded: any = decode(Buffer.from(params, 'base64'));
    const cid: CID = decoded[0][0][0][0];
    console.log(cid.toString());
    const client: Uint8Array = decoded[0][0][0][3];
    console.log(Buffer.from(client).toString('base64'));
    const provider: Uint8Array = decoded[0][0][0][4];
    console.log(Buffer.from(provider).toString('base64'))
  })
})
